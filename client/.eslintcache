[{"D:\\RS\\facebook\\rsclone\\client\\src\\index.js":"1","D:\\RS\\facebook\\rsclone\\client\\src\\App.js":"2","D:\\RS\\facebook\\rsclone\\client\\src\\redux\\store.js":"3","D:\\RS\\facebook\\rsclone\\client\\src\\redux\\reducers\\AppReducer.js":"4","D:\\RS\\facebook\\rsclone\\client\\src\\redux\\reducers\\NewsReducer.js":"5","D:\\RS\\facebook\\rsclone\\client\\src\\themes\\index.js":"6","D:\\RS\\facebook\\rsclone\\client\\src\\redux\\helpers\\localStorage.js":"7","D:\\RS\\facebook\\rsclone\\client\\src\\redux\\reducers\\AuthReducer.js":"8","D:\\RS\\facebook\\rsclone\\client\\src\\components\\Header\\Header.js":"9","D:\\RS\\facebook\\rsclone\\client\\src\\components\\Login\\Login.js":"10","D:\\RS\\facebook\\rsclone\\client\\src\\components\\Join\\Join.js":"11","D:\\RS\\facebook\\rsclone\\client\\src\\components\\Footer\\Footer.js":"12","D:\\RS\\facebook\\rsclone\\client\\src\\components\\Error\\Error.js":"13","D:\\RS\\facebook\\rsclone\\client\\src\\api\\api.js":"14","D:\\RS\\facebook\\rsclone\\client\\src\\themes\\DarkTheme.js":"15","D:\\RS\\facebook\\rsclone\\client\\src\\themes\\LightTheme.js":"16","D:\\RS\\facebook\\rsclone\\client\\src\\languages\\index.js":"17","D:\\RS\\facebook\\rsclone\\client\\src\\hoc\\withAuthRedirect.js":"18","D:\\RS\\facebook\\rsclone\\client\\src\\languages\\english.js":"19","D:\\RS\\facebook\\rsclone\\client\\src\\languages\\russian.js":"20","D:\\RS\\facebook\\rsclone\\client\\src\\components\\NewsFeed\\NewsFeed.js":"21","D:\\RS\\facebook\\rsclone\\client\\src\\components\\NewsFeed\\helper.js":"22","D:\\RS\\facebook\\rsclone\\client\\src\\components\\Post\\Post.js":"23"},{"size":467,"mtime":1610300647375,"results":"24","hashOfConfig":"25"},{"size":2011,"mtime":1611941764826,"results":"26","hashOfConfig":"25"},{"size":987,"mtime":1611907061589,"results":"27","hashOfConfig":"25"},{"size":1784,"mtime":1611941764828,"results":"28","hashOfConfig":"25"},{"size":5299,"mtime":1611942494634,"results":"29","hashOfConfig":"25"},{"size":188,"mtime":1611941764829,"results":"30","hashOfConfig":"25"},{"size":505,"mtime":1611656562519,"results":"31","hashOfConfig":"25"},{"size":2438,"mtime":1611941764829,"results":"32","hashOfConfig":"25"},{"size":3701,"mtime":1611941764827,"results":"33","hashOfConfig":"25"},{"size":6507,"mtime":1611941764828,"results":"34","hashOfConfig":"25"},{"size":7420,"mtime":1611941764827,"results":"35","hashOfConfig":"25"},{"size":4529,"mtime":1611941764826,"results":"36","hashOfConfig":"25"},{"size":1364,"mtime":1611941764826,"results":"37","hashOfConfig":"25"},{"size":1902,"mtime":1611909468892,"results":"38","hashOfConfig":"25"},{"size":1900,"mtime":1612002692911,"results":"39","hashOfConfig":"25"},{"size":1900,"mtime":1612000647632,"results":"40","hashOfConfig":"25"},{"size":184,"mtime":1611941764828,"results":"41","hashOfConfig":"25"},{"size":794,"mtime":1611851434259,"results":"42","hashOfConfig":"25"},{"size":1723,"mtime":1612029180786,"results":"43","hashOfConfig":"25"},{"size":2424,"mtime":1612029171203,"results":"44","hashOfConfig":"25"},{"size":6681,"mtime":1612029200035,"results":"45","hashOfConfig":"25"},{"size":532,"mtime":1611774219899,"results":"46","hashOfConfig":"25"},{"size":10113,"mtime":1612036816567,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"101x991",{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"50"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"50"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\RS\\facebook\\rsclone\\client\\src\\index.js",[],["97","98"],"D:\\RS\\facebook\\rsclone\\client\\src\\App.js",["99"],"import { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { initializeApp } from './redux/reducers/AppReducer';\r\nimport { getTheme } from './themes/index';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport Header from './components/Header/Header';\r\nimport Login from './components/Login/Login';\r\nimport Join from './components/Join/Join';\r\nimport NewsFeed from './components/NewsFeed/NewsFeed';\r\nimport Error from './components/Error/Error';\r\nimport Footer from './components/Footer/Footer';\r\n\r\nconst App = ({ token, theme, initialized, initializeApp }) => {\r\n    const currentTheme = getTheme(theme);\r\n\r\n    useEffect(() => {\r\n        initializeApp(token);\r\n    }, []);\r\n\r\n    return (\r\n        <ThemeProvider theme={createMuiTheme(currentTheme)}>\r\n            <>\r\n                <CssBaseline />\r\n                {initialized ? (\r\n                    <>\r\n                        <Header />\r\n\r\n                        <Switch>\r\n                            <Redirect exact from=\"/\" to=\"/feed\" />\r\n                            <Route path=\"/login\" exact component={Login} />\r\n                            <Route path=\"/join\" exact component={Join} />\r\n                            <Route path=\"/feed\" exact component={NewsFeed} />\r\n                            <Route component={Error} />\r\n                        </Switch>\r\n\r\n                        <Footer />\r\n                    </>\r\n                ) : (\r\n                    <LinearProgress />\r\n                )}\r\n            </>\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n    token: state.auth.token,\r\n    theme: state.app.theme,\r\n});\r\n\r\nexport default connect(mapStateToProps, { initializeApp })(App);\r\n","D:\\RS\\facebook\\rsclone\\client\\src\\redux\\store.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\redux\\reducers\\AppReducer.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\redux\\reducers\\NewsReducer.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\themes\\index.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\redux\\helpers\\localStorage.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\redux\\reducers\\AuthReducer.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\Header\\Header.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\Login\\Login.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\Join\\Join.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\Footer\\Footer.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\Error\\Error.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\api\\api.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\themes\\DarkTheme.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\themes\\LightTheme.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\languages\\index.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\hoc\\withAuthRedirect.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\languages\\english.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\languages\\russian.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\NewsFeed\\NewsFeed.js",["100","101","102"],"import React, { useState, useEffect } from 'react';\r\nimport { compose } from 'redux';\r\nimport { withLogoutRedirect } from '../../hoc/withAuthRedirect';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport styles from './NewsFeed.module.css';\r\nimport { Container, Avatar } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport Post from '../Post/Post';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { uploadImage } from './helper.js';\r\nimport { getPosts, setPost } from '../../redux/reducers/NewsReducer';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport russian from '../../languages/russian';\r\nimport english from '../../languages/english';\r\nimport { Formik, Field } from 'formik';\r\nimport userAvatar from './assets/images/user.svg';\r\nimport { TextField } from 'formik-material-ui';\r\nimport * as Yup from 'yup';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        maxWidth: '100%',\r\n        paddingTop: 70,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n}));\r\n\r\nfunction Newsfeed({ children, language, user, token, getPosts, setPost }) {\r\n    useEffect(() => {\r\n        getPosts(token);\r\n    }, []);\r\n\r\n    const translate = language === 'english' ? english : russian;\r\n    const classes = useStyles();\r\n    const [postState, setPostState] = useState(translate['Newsfeed.post']);\r\n    const [state, setState] = useState({ file: '', imagePreviewUrl: '' });\r\n    const initialValues = { text: '' };\r\n    const PostSchema = Yup.object().shape({\r\n        text: Yup.string().required(translate['Newsfeed.required']),\r\n    });\r\n\r\n    let { imagePreviewUrl } = state;\r\n    let imagePreviewDiv = null;\r\n\r\n    if (imagePreviewUrl) {\r\n        imagePreviewDiv = (\r\n            <div>\r\n                <img src={imagePreviewUrl} alt={'Image Preview'} />\r\n                <button className={styles.closeButton} onClick={(e) => handleClose(e)}>\r\n                    <CloseIcon />\r\n                </button>\r\n            </div>\r\n        );\r\n    } else {\r\n        imagePreviewDiv = <div></div>;\r\n    }\r\n\r\n    const handleImageChange = (e) => {\r\n        let reader = new FileReader();\r\n        let file = e.target.files[0];\r\n\r\n        reader.onloadend = () => {\r\n            setState({\r\n                file: file,\r\n                imagePreviewUrl: reader.result,\r\n            });\r\n        };\r\n\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const handleClose = (e) => {\r\n        setState({\r\n            file: '',\r\n            imagePreviewUrl: '',\r\n        });\r\n        imagePreviewDiv = <div></div>;\r\n    };\r\n\r\n    const handleSubmit = (values, { setSubmitting }) => {\r\n        setPostState(<CircularProgress style={{ height: '40px', width: '35px' }} />);\r\n        uploadImage(state.file).then(async (res) => {\r\n            await setPost({\r\n                query: {\r\n                    login: user.login,\r\n                    text: values.text,\r\n                    photo: res,\r\n                    user: { login: user.login, avatar: user.avatar },\r\n                },\r\n                token: token,\r\n                setSubmitting,\r\n            });\r\n            setPostState(translate['Newsfeed.post']);\r\n            setState({ file: '', imagePreviewUrl: '' });\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        setPostState(translate['Newsfeed.post']);\r\n    }, [language, setPostState]);\r\n\r\n    return (\r\n        <Container className={classes.root}>\r\n            <div className={styles.newPost}>\r\n                <Formik\r\n                    initialValues={initialValues}\r\n                    onSubmit={handleSubmit}\r\n                    validationSchema={PostSchema}\r\n                >\r\n                    {({ submitForm, isSubmitting }) => (\r\n                        <form className={styles.form}>\r\n                            <div className={styles.inputContainer}>\r\n                                <Avatar aria-label=\"recipe\" className={styles.avatar}>\r\n                                    {user?.avatar ? (\r\n                                        <img src={user.avatar} alt=\"Avatar\" />\r\n                                    ) : (\r\n                                        <img src={userAvatar} alt=\"Avatar\" />\r\n                                    )}\r\n                                </Avatar>\r\n                                <Field\r\n                                    placeholder={translate['Newsfeed.placeholder']}\r\n                                    className={styles.input}\r\n                                    multiline={true}\r\n                                    name=\"text\"\r\n                                    component={TextField}\r\n                                />\r\n                                <div className={styles.inputWrapper}>\r\n                                    <input\r\n                                        name=\"file\"\r\n                                        type=\"file\"\r\n                                        id=\"inputFile\"\r\n                                        onChange={(e) => handleImageChange(e)}\r\n                                        accept=\"image/x-png,image/gif,image/jpeg\"\r\n                                        className={styles.inputFile}\r\n                                        multiple\r\n                                    />\r\n                                    <label htmlFor=\"inputFile\" className={styles.inputFileButton}>\r\n                                        <GetAppIcon className={styles.inputFileButtonImg} />\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.imgPreview}>{imagePreviewDiv}</div>\r\n                            <button\r\n                                disabled={isSubmitting}\r\n                                className={styles.submitButton}\r\n                                type=\"submit\"\r\n                                onClick={submitForm}\r\n                            >\r\n                                {postState}\r\n                            </button>\r\n                        </form>\r\n                    )}\r\n                </Formik>\r\n            </div>\r\n\r\n            {children}\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = function (state) {\r\n    return {\r\n        children: state.news.posts.map((el) => <Post post={el} />),\r\n        language: state.app.language,\r\n        user: state.auth.user,\r\n        token: state.auth.token,\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getPosts, setPost }),\r\n    withLogoutRedirect,\r\n)(Newsfeed);\r\n","D:\\RS\\facebook\\rsclone\\client\\src\\components\\NewsFeed\\helper.js",[],"D:\\RS\\facebook\\rsclone\\client\\src\\components\\Post\\Post.js",["103"],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":23,"column":8,"nodeType":"110","endLine":23,"endColumn":10,"suggestions":"111"},{"ruleId":"108","severity":1,"message":"112","line":34,"column":8,"nodeType":"110","endLine":34,"endColumn":10,"suggestions":"113"},{"ruleId":"114","severity":1,"message":"115","line":51,"column":17,"nodeType":"116","endLine":51,"endColumn":68},{"ruleId":"108","severity":1,"message":"117","line":103,"column":8,"nodeType":"110","endLine":103,"endColumn":32,"suggestions":"118"},{"ruleId":"119","severity":1,"message":"120","line":109,"column":5,"nodeType":"121","messageId":"122","endLine":109,"endColumn":9},"no-native-reassign",["123"],"no-negated-in-lhs",["124"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'initializeApp' and 'token'. Either include them or remove the dependency array. If 'initializeApp' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["125"],"React Hook useEffect has missing dependencies: 'getPosts' and 'token'. Either include them or remove the dependency array. If 'getPosts' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["126"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'translate'. Either include it or remove the dependency array.",["127"],"no-dupe-keys","Duplicate key 'icon'.","ObjectExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"128","fix":"129"},{"desc":"130","fix":"131"},{"desc":"132","fix":"133"},"Update the dependencies array to be: [initializeApp, token]",{"range":"134","text":"135"},"Update the dependencies array to be: [getPosts, token]",{"range":"136","text":"137"},"Update the dependencies array to be: [language, setPostState, translate]",{"range":"138","text":"139"},[942,944],"[initializeApp, token]",[1289,1291],"[getPosts, token]",[3450,3474],"[language, setPostState, translate]"]